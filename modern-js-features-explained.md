# –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö JS –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤ –∫–æ–¥–µ

**–§–∞–π–ª—ã:** script.js, index.html

---

## 1. Optional Chaining `?.` ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º

### –ß—Ç–æ —ç—Ç–æ?

**Optional chaining** –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º –æ–±—ä–µ–∫—Ç–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –∑–≤–µ–Ω–æ `null` –∏–ª–∏ `undefined`. –ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–º-—Ç–æ —ç—Ç–∞–ø–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è `null/undefined`, –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç `undefined` –≤–º–µ—Å—Ç–æ –æ—à–∏–±–∫–∏.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å:

```javascript
// ‚ùå –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–¥–æ ES2020):
const value = obj && obj.property && obj.property.nested;

// ‚úÖ –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (ES2020+):
const value = obj?.property?.nested;
```

---

### –ü—Ä–∏–º–µ—Ä 1: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞—Å—Å–∏–≤—É

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 67):**
```javascript
let activeSectionId = sections[0]?.id ?? null;
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `sections` ‚Äî –º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `.text-section` –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- `sections[0]` ‚Äî –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞
- `?.id` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –±–µ—Ä–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `id`

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ï—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π (`sections = []`), —Ç–æ `sections[0]` –≤–µ—Ä–Ω–µ—Ç `undefined`
- –ë–µ–∑ `?.` –∫–æ–¥ —É–ø–∞–¥–µ—Ç —Å –æ—à–∏–±–∫–æ–π: `Cannot read property 'id' of undefined`
- –° `?.` –∫–æ–¥ –≤–µ—Ä–Ω–µ—Ç `undefined`, –∑–∞—Ç–µ–º `??` –¥–∞—Å—Ç `null`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (—Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±):**
```javascript
// –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ –≤—Ä—É—á–Ω—É—é
let activeSectionId = null;
if (sections && sections[0] && sections[0].id) {
  activeSectionId = sections[0].id;
}
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª–∞—Å—Å–∞

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 108):**
```javascript
let open = Boolean(body?.classList.contains('menu-open'));
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `body` ‚Äî —ç–ª–µ–º–µ–Ω—Ç `<body>` (–º–æ–∂–µ—Ç –±—ã—Ç—å `null` –µ—Å–ª–∏ DOM –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
- `?.classList` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç `classList` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `body` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `.contains('menu-open')` ‚Äî –≤—ã–∑–æ–≤–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `classList` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ `<body>`
- –ë–µ–∑ `?.`: `TypeError: Cannot read property 'classList' of null`
- –° `?.`: –≤–µ—Ä–Ω–µ—Ç `undefined`, –∑–∞—Ç–µ–º `Boolean(undefined)` –¥–∞—Å—Ç `false`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```javascript
let open = false;
if (body && body.classList) {
  open = body.classList.contains('menu-open');
}
```

---

### –ü—Ä–∏–º–µ—Ä 3: –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 893):**
```javascript
const tokens = parseTokens(entry.target?.dataset?.lazy);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `entry.target` ‚Äî DOM —ç–ª–µ–º–µ–Ω—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å `null`)
- `?.dataset` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç dataset —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `?.lazy` ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç `data-lazy` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ dataset —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
- –ß–∏—Å—Ç—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö `if`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```javascript
let lazy = undefined;
if (entry && entry.target && entry.target.dataset) {
  lazy = entry.target.dataset.lazy;
}
const tokens = parseTokens(lazy);
```

**HTML –ø—Ä–∏–º–µ—Ä (—Å—Ç—Ä–æ–∫–∞ 161 –≤ index.html):**
```html
<section class="panel" data-lazy="dots-nav progress-widget">
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 923):**
```javascript
cleanup = feature.onEnter?.({
  id,
  element: entry.target,
  entry,
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `feature.onEnter` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
- `?.()` ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ï—Å–ª–∏ `onEnter` –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –≤–µ—Ä–Ω–µ—Ç `undefined`

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ù–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `typeof feature.onEnter === 'function'`
- –ö–æ–¥ –Ω–µ —É–ø–∞–¥–µ—Ç –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```javascript
let cleanup = null;
if (feature.onEnter && typeof feature.onEnter === 'function') {
  cleanup = feature.onEnter({ id, element: entry.target, entry });
}
```

---

### –ü—Ä–∏–º–µ—Ä 5: –†–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–∞

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 1274, 1541):**
```javascript
const headerHeight = header?.offsetHeight ?? 0;
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- `header` ‚Äî —ç–ª–µ–º–µ–Ω—Ç `<header>` (–º–æ–∂–µ—Ç –±—ã—Ç—å `null`)
- `?.offsetHeight` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã—Å–æ—Ç—É
- `?? 0` ‚Äî –µ—Å–ª–∏ `undefined`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `0`

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ó–∞—â–∏—Ç–∞ –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –í—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ–º —á–∏—Å–ª–æ (–ª–∏–±–æ –≤—ã—Å–æ—Ç—É, –ª–∏–±–æ 0)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```javascript
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø –¥–ª—è sticky —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const stackOffset = Math.max(0, headerHeight + 16);
root.style.setProperty('--stack-top', `${stackOffset}px`);

// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º scroll margin –¥–ª—è —Å–µ–∫—Ü–∏–π
const scrollMargin = Math.max(0, headerHeight + 24);
```

---

## 2. Nullish Coalescing `??` ‚Äî –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –ß—Ç–æ —ç—Ç–æ?

**Nullish coalescing** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ª–µ–≤–æ–µ `null` –∏–ª–∏ `undefined`. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `||`, –æ–Ω –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ `0`, `''`, `false`.

### –†–∞–∑–Ω–∏—Ü–∞ —Å `||`:

```javascript
const value1 = 0 || 100;    // 100 ‚ùå (0 —Å—á–∏—Ç–∞–µ—Ç—Å—è falsy)
const value2 = 0 ?? 100;    // 0 ‚úÖ (0 –Ω–µ null/undefined)

const value3 = '' || 'default';    // 'default' ‚ùå
const value4 = '' ?? 'default';    // '' ‚úÖ

const value5 = null || 'fallback';  // 'fallback' ‚úÖ
const value6 = null ?? 'fallback';  // 'fallback' ‚úÖ
```

---

### –ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–ª–∏ null

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 67):**
```javascript
let activeSectionId = sections[0]?.id ?? null;
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ï—Å–ª–∏ `sections[0]?.id` –≤–µ—Ä–Ω–µ—Ç `undefined` (–º–∞—Å—Å–∏–≤ –ø—É—Å—Ç–æ–π)
- `??` –¥–∞—Å—Ç `null` –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ó–∞—á–µ–º null –≤–º–µ—Å—Ç–æ undefined:**
- `null` —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏"
- `undefined` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"

---

### –ü—Ä–∏–º–µ—Ä 2: –ó–Ω–∞—á–µ–Ω–∏—è –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å fallback

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 538-540):**
```javascript
{
  kind: meta.kind ?? 'unknown',
  label: meta.label ?? meta.event ?? meta.target ?? '-',
  lifecycle: meta.lifecycle ?? 'n/a',
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫: –±–µ—Ä–µ–º –ø–µ—Ä–≤–æ–µ –Ω–µ-null –∑–Ω–∞—á–µ–Ω–∏–µ
- `meta.label ?? meta.event ?? meta.target ?? '-'`
  - –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ–º—Å—è –≤–∑—è—Ç—å `label`
  - –ï—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç (null/undefined), –±–µ—Ä–µ–º `event`
  - –ï—Å–ª–∏ –∏ –µ–≥–æ –Ω–µ—Ç, –±–µ—Ä–µ–º `target`
  - –ï—Å–ª–∏ –≤—Å–µ –ø—É—Å—Ç–æ, –±–µ—Ä–µ–º `'-'`

**–ß—Ç–æ –¥–∞–µ—Ç:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ fallback –∑–Ω–∞—á–µ–Ω–∏–π
- –í—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫—É (–Ω–µ undefined)

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:**
```javascript
let label = '-';
if (meta.label !== null && meta.label !== undefined) {
  label = meta.label;
} else if (meta.event !== null && meta.event !== undefined) {
  label = meta.event;
} else if (meta.target !== null && meta.target !== undefined) {
  label = meta.target;
}
```

---

### –ü—Ä–∏–º–µ—Ä 3: –í—ã—Å–æ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å fallback

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 1274):**
```javascript
const headerHeight = header?.offsetHeight ?? 0;
```

**–ü–æ—á–µ–º—É `??` –∞ –Ω–µ `||`:**

```javascript
// –ü—Ä–æ–±–ª–µ–º–∞ —Å ||:
const height1 = header?.offsetHeight || 100;
// –ï—Å–ª–∏ offsetHeight = 0 (—ç–ª–µ–º–µ–Ω—Ç —Å–∫—Ä—ã—Ç), –≤–µ—Ä–Ω–µ—Ç 100 ‚ùå

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å ??:
const height2 = header?.offsetHeight ?? 100;
// –ï—Å–ª–∏ offsetHeight = 0, –≤–µ—Ä–Ω–µ—Ç 0 ‚úÖ
// –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ undefined (–Ω–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–∞), –≤–µ—Ä–Ω–µ—Ç 100
```

---

## 3. IntersectionObserver ‚Äî –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –ß—Ç–æ —ç—Ç–æ?

**IntersectionObserver** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–æ viewport (–≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞). –†–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫.

### –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω?

1. **Lazy loading** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–Ω –≤–∏–¥–µ–Ω
2. **Infinite scroll** ‚Äî –ø–æ–¥–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
4. **–ê–Ω–∏–º–∞—Ü–∏–∏** ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 1: –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤

**HTML (—Å—Ç—Ä–æ–∫–∞ 161, 334 –≤ index.html):**
```html
<section class="panel" data-lazy="dots-nav progress-widget">
  <!-- –í–∏–¥–∂–µ—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ -->
</section>

<aside class="stack" data-lazy="stack-carousel">
  <!-- –ö–∞—Ä—É—Å–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
</aside>
```

**JavaScript (—Å—Ç—Ä–æ–∫–∞ 856-888):**
```javascript
const supportsIntersectionObserver = typeof window !== 'undefined'
  && typeof window.IntersectionObserver === 'function';

function ensureObserver() {
  if (!supportsIntersectionObserver) {
    return null; // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
  }
  if (observer) {
    return observer; // –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
  }
  observer = new IntersectionObserver(handleEntries, {
    threshold: 0.2,        // 20% —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ
    rootMargin: '0px 0px -10% 0px' // –¢—Ä–∏–≥–≥–µ—Ä —á—É—Ç—å —Ä–∞–Ω—å—à–µ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã
  });
  return observer;
}
```

**–ß—Ç–æ –¥–∞–µ—Ç:**

1. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:**
   - –í–∏–¥–∂–µ—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫—Ä–æ–ª–ª–∏—Ç –∫ –Ω–∏–º
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ—Å–∫—Ä–æ–ª–ª–∏–ª ‚Äî –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

2. **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
   - –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—ã—Å—Ç—Ä–µ–µ
   - JavaScript –ø–∞—Ä—Å–∏—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏:**
   - –ù–µ —Å–æ–∑–¥–∞–µ–º DOM listeners –¥–ª—è –Ω–µ–≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 891-960):**
```javascript
function handleEntries(entries) {
  for (const entry of entries) {
    // –ß–∏—Ç–∞–µ–º data-lazy="dots-nav progress-widget"
    const tokens = parseTokens(entry.target?.dataset?.lazy);

    if (entry.isIntersecting) {
      // –≠–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ –≤–∏–¥–∏–º–æ—Å—Ç–∏
      state.active = true;

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∏—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, dots-nav)
      cleanup = feature.onEnter?.({
        id,
        element: entry.target,
        entry,
      });

      state.cleanup = cleanup; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –æ—á–∏—Å—Ç–∫–∏

    } else if (state.active) {
      // –≠–ª–µ–º–µ–Ω—Ç —É—à–µ–ª –∏–∑ –≤–∏–¥–∏–º–æ—Å—Ç–∏
      state.active = false;

      // –í—ã–∑—ã–≤–∞–µ–º –æ—á–∏—Å—Ç–∫—É
      feature.onExit?.({ ... });
      state.cleanup?.(); // –£–¥–∞–ª—è–µ–º listeners
    }
  }
}
```

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫—Ä–æ–ª–ª–∏—Ç ‚Üí —ç–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ 20%
2. IO –≤—ã–∑—ã–≤–∞–µ—Ç `handleEntries` —Å `entry.isIntersecting = true`
3. –ö–æ–¥ –ø–∞—Ä—Å–∏—Ç `data-lazy="dots-nav progress-widget"` ‚Üí `['dots-nav', 'progress-widget']`
4. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `feature.onEnter()`
5. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ç–æ—á–∫–∞–º–∏, –≤–∏–¥–∂–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
6. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫—Ä–æ–ª–ª–∏—Ç –Ω–∞–∑–∞–¥ ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `onExit()` –∏ –æ—á–∏—Å—Ç–∫–∞

---

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 2: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏

**–ö–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 1541-1560):**
```javascript
const headerHeight = header?.offsetHeight ?? 0;
observer = new IntersectionObserver(
  () => {
    // –ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Å–µ–∫—Ü–∏–π
    const index = getCurrentSectionIndex(); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–ª–∏–∂–∞–π—à—É—é —Å–µ–∫—Ü–∏—é
    const current = sections[index];
    if (current) {
      setActiveSection(current.id); // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
    }
  },
  {
    root: null,                    // –í–µ—Å—å viewport
    rootMargin: `-${headerHeight}px 0px -65% 0px`, // –ò—Å–∫–ª—é—á–∞–µ–º header —Å–≤–µ—Ä—Ö—É, 65% —Å–Ω–∏–∑—É
    threshold: [0, 0.25, 0.5, 0.75, 1], // –¢—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –≤–∏–¥–∏–º–æ—Å—Ç–∏
  }
);

// –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –≤—Å–µ–º–∏ —Å–µ–∫—Ü–∏—è–º–∏
sections.forEach((section) => observer.observe(section));
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         HEADER (85px)           ‚îÇ ‚Üê rootMargin: -85px (–∏—Å–∫–ª—é—á–∞–µ–º)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚îÇ
‚îÇ   üü¢ –ê–∫—Ç–∏–≤–Ω–∞—è –∑–æ–Ω–∞ (35%)        ‚îÇ ‚Üê –°–µ–∫—Ü–∏—è –≤ —ç—Ç–æ–π –∑–æ–Ω–µ = –∞–∫—Ç–∏–≤–Ω–∞—è
‚îÇ                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚îÇ
‚îÇ   –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º–∞—è –∑–æ–Ω–∞ (65%)       ‚îÇ ‚Üê rootMargin: -65%
‚îÇ                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ß—Ç–æ –¥–∞–µ—Ç:**

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
   - –¢–æ—á–∫–∏ –≤ dots-rail –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª–µ–¥—É—é—Ç –∑–∞ —Å–∫—Ä–æ–ª–ª–æ–º
   - –í—ã–¥–µ–ª—è–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è —Å–µ–∫—Ü–∏—è

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ù–µ –Ω—É–∂–Ω–æ —Å–ª—É—à–∞—Ç—å `scroll` —Å–æ–±—ã—Ç–∏–µ (–æ—á–µ–Ω—å —á–∞—Å—Ç–æ–µ)
   - IO —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

3. **–¢–æ—á–Ω–æ—Å—Ç—å:**
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã—Å–æ—Ç—É header
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ threshold –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

---

### Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 856):**
```javascript
const supportsIntersectionObserver = typeof window !== 'undefined'
  && typeof window.IntersectionObserver === 'function';
```

**Fallback —Ñ—É–Ω–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 963-1023):**
```javascript
function activateElementFeaturesImmediately(element) {
  const tokens = parseTokens(element?.dataset?.lazy);

  if (!fallbackWarningShown) {
    console.warn('[LazyFeatures] IntersectionObserver is not supported ‚Äî activating features immediately');
    fallbackWarningShown = true;
  }

  // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –í–°–ï —Ñ–∏—á–∏ —Å—Ä–∞–∑—É –±–µ–∑ lazy loading
  for (const id of tokens) {
    const feature = features.get(id);
    cleanup = feature.onEnter?.({ id, element, entry: null });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ fallback
const io = ensureObserver();
if (io) {
  io.observe(element); // ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
} else {
  activateElementFeaturesImmediately(element); // ‚ö†Ô∏è –°—Ç–∞—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–µ–∑ IO:**

- iOS 11, Android 6 –∏ —Å—Ç–∞—Ä—à–µ
- –í—Å–µ –≤–∏–¥–∂–µ—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ù–µ—Ç –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏, –Ω–æ **—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç**
- –ù–µ–±–æ–ª—å—à–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### ‚ùå –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ (–±–µ–∑ IntersectionObserver):

```javascript
// –°–ª—É—à–∞–µ–º scroll —Å–æ–±—ã—Ç–∏–µ (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ~60 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ!)
window.addEventListener('scroll', () => {
  sections.forEach((section) => {
    const rect = section.getBoundingClientRect(); // –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π layout reflow ‚ö†Ô∏è
    if (rect.top >= 0 && rect.top <= window.innerHeight) {
      setActiveSection(section.id);
    }
  });
});
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- 60+ –≤—ã–∑–æ–≤–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- `getBoundingClientRect()` –∫–∞–∂–¥—ã–π —Ä–∞–∑ ‚Äî –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ ‚Üí –ª–∞–≥–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ

### ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (IntersectionObserver):

```javascript
const observer = new IntersectionObserver(callback, options);
sections.forEach((s) => observer.observe(s));
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –ë—Ä–∞—É–∑–µ—Ä —Å–∞–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ~10-100x –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ CPU

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞: –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ |
|------------|-------------------------|--------------|-----------|
| **Optional Chaining `?.`** | –ó–∞—â–∏—Ç–∞ –æ—Ç `TypeError` –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `if` –ø—Ä–æ–≤–µ—Ä–∫–∏ | iOS 13.4+ (2020) |
| **Nullish Coalescing `??`** | Fallback —Ç–æ–ª—å–∫–æ –¥–ª—è `null/undefined`, –Ω–µ –¥–ª—è `0/''` | `||` (–Ω–æ –Ω–µ—Ç–æ—á–Ω—ã–π) | iOS 13.4+ (2020) |
| **IntersectionObserver** | –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±–µ–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ | `scroll` listener + `getBoundingClientRect()` | iOS 12.2+ (2019) |

---

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º –ë–ï–ó —ç—Ç–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –ë–µ–∑ Optional Chaining:

```javascript
// ‚ùå –ö–æ–¥ —É–ø–∞–¥–µ—Ç –µ—Å–ª–∏ sections –ø—É—Å—Ç–æ–π
let id = sections[0].id;
// TypeError: Cannot read property 'id' of undefined

// ‚úÖ –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥
let id = null;
if (sections && sections.length > 0 && sections[0] && sections[0].id) {
  id = sections[0].id;
}
```

### –ë–µ–∑ Nullish Coalescing:

```javascript
// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å ||
const port = config.port || 3000;
// –ï—Å–ª–∏ port = 0 (–≤–∞–ª–∏–¥–Ω—ã–π –ø–æ—Ä—Ç), –ø–æ–ª—É—á–∏–º 3000 ‚ùå

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å ??
const port = config.port ?? 3000;
// –ï—Å–ª–∏ port = 0, –ø–æ–ª—É—á–∏–º 0 ‚úÖ
```

### –ë–µ–∑ IntersectionObserver:

```javascript
// ‚ùå –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± ‚Äî –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
let ticking = false;
window.addEventListener('scroll', () => {
  if (!ticking) {
    requestAnimationFrame(() => {
      sections.forEach((section) => {
        const rect = section.getBoundingClientRect(); // –î–æ—Ä–æ–≥–æ!
        if (rect.top >= 0 && rect.top <= window.innerHeight) {
          setActiveSection(section.id);
        }
      });
      ticking = false;
    });
    ticking = true;
  }
});
```

---

## –í—ã–≤–æ–¥—ã

1. **Optional Chaining (`?.`)** ‚Äî –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ —á–∏—Ç–∞–µ–º—ã–º, –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
2. **Nullish Coalescing (`??`)** ‚Äî —Ç–æ—á–Ω—ã–π fallback –¥–ª—è null/undefined, –Ω–µ –ø—É—Ç–∞–µ—Ç —Å 0/false/''
3. **IntersectionObserver** ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∫–ª—é—á –∫ lazy loading –∏ –ø–ª–∞–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞:**
- `?.` –∏ `??` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 44 —Ä–∞–∑–∞ ‚Äî –∫–æ–¥ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ iOS 12 –∏ –Ω–∏–∂–µ
- `IntersectionObserver` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 8 —Ä–∞–∑ ‚Äî –µ—Å—Ç—å fallback, –Ω–æ –±–µ–∑ lazy loading

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ iOS 13-14 ‚Üí —Ç—Ä–∞–Ω—Å–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å Babel
- –î–ª—è iOS 12 –∏ —Å—Ç–∞—Ä—à–µ ‚Üí –Ω—É–∂–Ω—ã polyfills + —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏—è
