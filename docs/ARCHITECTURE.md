# üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê - TOOSMART

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-15
**–í–µ—Ä—Å–∏—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è](#–æ–±—â–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [Free vs Premium –≤–µ—Ä—Å–∏–∏](#free-vs-premium-–≤–µ—Ä—Å–∏–∏)
4. [–ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏](#–ø—Ä–æ—Ü–µ—Å—Å-—Å–±–æ—Ä–∫–∏)
5. [PHP –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è](#php-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
6. [Robokassa –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#robokassa-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
7. [–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤](#–∑–∞—â–∏—Ç–∞-–æ—Ç-–ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤)
8. [–î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥](#–¥–µ–ø–ª–æ–π-–Ω–∞-—Ö–æ—Å—Ç–∏–Ω–≥)
9. [Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#workflow-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
10. [FAQ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#faq-–∏-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üéØ –û–ë–©–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞

**TooSmart** - –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –∫—É—Ä—Å–æ–º "Clean - –¢–µ–æ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —É–±–æ—Ä–∫–∏".

### –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å: Freemium

- **Free –≤–µ—Ä—Å–∏—è:** –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ –∞–±–∑–∞—Ü—ã –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ + –ø–æ–ª–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
- **Premium –≤–µ—Ä—Å–∏—è:** –ü–æ–ª–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

### –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

- –ï–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ **Robokassa** (990‚ÇΩ)
- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã ‚Üí email —Å –ø–∞—Ä–æ–ª–µ–º ‚Üí –¥–æ—Å—Ç—É–ø –∫ premium.toosmart.com

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

```
Frontend:  HTML5, CSS3, Vanilla JavaScript
Backend:   PHP (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
Build:     Node.js + marked.js + DOMPurify
Hosting:   –ü—Ä–æ—Å—Ç–æ–π —Ö–æ—Å—Ç–∏–Ω–≥ —Å PHP + .htaccess
Payment:   Robokassa
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

‚úÖ **–°—Ç–∞—Ç–∏—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
‚úÖ **–ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π** - FTP/SFTP –∑–∞–≥—Ä—É–∑–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥** - —Ç–æ–ª—å–∫–æ PHP —Å–µ—Å—Å–∏–∏ –¥–ª—è premium
‚úÖ **SEO –¥–ª—è free –≤–µ—Ä—Å–∏–∏** - —Å—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è Google
‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞ premium** - .htaccess + PHP session + noindex

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

```
toosmart/                              ‚Üê –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ package.json                       ‚Üê NPM –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package-lock.json
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ src/                               ‚Üê –®–ê–ë–õ–û–ù–´ (UI/UX –º–∞–∫–µ—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ template.html                 ‚Üê –û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ script.js                     ‚Üê –õ–æ–≥–∏–∫–∞ UI (–º–µ–Ω—é, —Å–≤–∞–π–ø—ã, –∫–∞—Ä—É—Å–µ–ª—å)
‚îÇ   ‚îú‚îÄ‚îÄ styles.css                    ‚Üê –í—Å–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ mode-utils.js                 ‚Üê –î–µ—Ç–µ–∫—Ü–∏—è —Ä–µ–∂–∏–º–∞ (mobile/tablet/desktop)
‚îÇ   ‚îî‚îÄ‚îÄ assets/                       ‚Üê –†–µ—Å—É—Ä—Å—ã –º–∞–∫–µ—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ PointingToClean.png       ‚Üê –õ–æ–≥–æ—Ç–∏–ø "—Ä—É–∫–∞"
‚îÇ       ‚îî‚îÄ‚îÄ CleanLogo.svg             ‚Üê SVG –ª–æ–≥–æ—Ç–∏–ø
‚îÇ
‚îú‚îÄ‚îÄ content/                           ‚Üê –ö–û–ù–¢–ï–ù–¢
‚îÇ   ‚îú‚îÄ‚îÄ course/                       ‚Üê –†–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 01-intro.md              ‚Üê –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ö–∏–º–∏—é —É–±–æ—Ä–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 02-kitchen.md            ‚Üê –•–∏–º–∏—è –∫—É—Ö–æ–Ω–Ω–æ–π —É–±–æ—Ä–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 03-bathroom.md           ‚Üê –í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 04-textiles.md           ‚Üê –°—Ç–∏—Ä–∫–∞ –∏ —Ç–µ–∫—Å—Ç–∏–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 05-floors.md             ‚Üê –£—Ö–æ–¥ –∑–∞ –ø–æ–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                       ‚Üê –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ articles/                     ‚Üê –°—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" (–í–°–ï–ì–î–ê FREE)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ eco-myths.md             ‚Üê "–ü–µ—Ä–µ–ø–ª–∞—Ç–∞ –∑–∞ —ç–∫–æ-—Å—Ä–µ–¥—Å—Ç–≤–∞"
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dangerous-mix.md         ‚Üê "–û–ø–∞—Å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏"
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ soda-vinegar.md          ‚Üê "–°–æ–¥–∞ + —É–∫—Å—É—Å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ph-neutral-myth.md       ‚Üê "pH-–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ ‚Äî –º–∞—Ä–∫–µ—Ç–∏–Ω–≥"
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config.json                   ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫—É—Ä—Å–∞ –∏ —Å—Ç–∞—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ images/                       ‚Üê –ö–∞—Ä—Ç–∏–Ω–∫–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ intro-diagram.png
‚îÇ       ‚îú‚îÄ‚îÄ kitchen-grease.jpg
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ scripts/                           ‚Üê –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ –°–ë–û–†–ö–ò
‚îÇ   ‚îî‚îÄ‚îÄ build.js                      ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è free/ –∏ premium/
‚îÇ
‚îú‚îÄ‚îÄ server/                            ‚Üê PHP –°–ö–†–ò–ü–¢–´ (–¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞)
‚îÇ   ‚îú‚îÄ‚îÄ index.php                     ‚Üê –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –≤ premium
‚îÇ   ‚îú‚îÄ‚îÄ auth.php                      ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ email + password
‚îÇ   ‚îú‚îÄ‚îÄ logout.php                    ‚Üê –í—ã—Ö–æ–¥ –∏–∑ —Å–µ—Å—Å–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ check-auth.php                ‚Üê Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã .html
‚îÇ   ‚îú‚îÄ‚îÄ robokassa-callback.php        ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ .htaccess                     ‚Üê –ó–∞—â–∏—Ç–∞ premium –ø–∞–ø–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ users.json.example            ‚Üê –ü—Ä–∏–º–µ—Ä –±–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ docs/                              ‚Üê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md               ‚Üê –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ UI_UX_SPECIFICATION.md        ‚Üê UI/UX —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ IMPLEMENTATION_PLAN.md        ‚Üê –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ CHANGES_CHECKLIST.md          ‚Üê –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ TEMPLATES_STRUCTURE.md        ‚Üê (—É—Å—Ç–∞—Ä–µ–ª, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
‚îÇ
‚îú‚îÄ‚îÄ logs/                              ‚Üê –ò—Å—Ç–æ—Ä–∏—è –∞—É–¥–∏—Ç–∞
‚îÇ
‚îî‚îÄ‚îÄ dist/                              ‚Üê –†–ï–ó–£–õ–¨–¢–ê–¢ –°–ë–û–†–ö–ò (–≤ .gitignore)
    ‚îÇ
    ‚îú‚îÄ‚îÄ free/                         ‚Üê üåç –ë–ï–°–ü–õ–ê–¢–ù–ê–Ø –í–ï–†–°–ò–Ø
    ‚îÇ   ‚îú‚îÄ‚îÄ index.html               ‚Üê –†–∞–∑–¥–µ–ª "–í–≤–µ–¥–µ–Ω–∏–µ" (–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ)
    ‚îÇ   ‚îú‚îÄ‚îÄ kitchen.html             ‚Üê –†–∞–∑–¥–µ–ª "–ö—É—Ö–Ω—è" (–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ)
    ‚îÇ   ‚îú‚îÄ‚îÄ bathroom.html            ‚Üê –†–∞–∑–¥–µ–ª "–í–∞–Ω–Ω–∞—è" (–≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ)
    ‚îÇ   ‚îú‚îÄ‚îÄ ...                       ‚Üê –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ script.js                ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ styles.css               ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ mode-utils.js            ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ assets/                  ‚Üê –ö–æ–ø–∏—è –∏–∑ src/assets/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PointingToClean.png
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CleanLogo.svg
    ‚îÇ   ‚îú‚îÄ‚îÄ images/                  ‚Üê –ö–æ–ø–∏—è –∏–∑ content/images/
    ‚îÇ   ‚îî‚îÄ‚îÄ articles/                ‚Üê üì∞ –°–¢–ê–¢–¨–ò (–í–°–ï–ì–î–ê –û–¢–ö–†–´–¢–´)
    ‚îÇ       ‚îú‚îÄ‚îÄ eco-myths.html       ‚Üê –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç—å—è
    ‚îÇ       ‚îú‚îÄ‚îÄ dangerous-mix.html   ‚Üê –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç—å—è
    ‚îÇ       ‚îú‚îÄ‚îÄ soda-vinegar.html    ‚Üê –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç—å—è
    ‚îÇ       ‚îî‚îÄ‚îÄ ph-neutral-myth.html ‚Üê –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç—å—è
    ‚îÇ
    ‚îî‚îÄ‚îÄ premium/                      ‚Üê üîí –ü–õ–ê–¢–ù–ê–Ø –í–ï–†–°–ò–Ø
        ‚îú‚îÄ‚îÄ .htaccess                ‚Üê –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
        ‚îú‚îÄ‚îÄ index.php                ‚Üê –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ (email + password)
        ‚îú‚îÄ‚îÄ auth.php                 ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        ‚îú‚îÄ‚îÄ check-auth.php           ‚Üê Middleware –∑–∞—â–∏—Ç—ã
        ‚îú‚îÄ‚îÄ logout.php               ‚Üê –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
        ‚îú‚îÄ‚îÄ home.html                ‚Üê –ì–ª–∞–≤–Ω–∞—è –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
        ‚îú‚îÄ‚îÄ kitchen.html             ‚Üê –†–∞–∑–¥–µ–ª "–ö—É—Ö–Ω—è" (–ü–û–õ–ù–´–ô)
        ‚îú‚îÄ‚îÄ bathroom.html            ‚Üê –†–∞–∑–¥–µ–ª "–í–∞–Ω–Ω–∞—è" (–ü–û–õ–ù–´–ô)
        ‚îú‚îÄ‚îÄ ...                       ‚Üê –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã (–ü–û–õ–ù–´–ï)
        ‚îú‚îÄ‚îÄ script.js                ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
        ‚îú‚îÄ‚îÄ styles.css               ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
        ‚îú‚îÄ‚îÄ mode-utils.js            ‚Üê –ö–æ–ø–∏—è –∏–∑ src/
        ‚îú‚îÄ‚îÄ assets/                  ‚Üê –ö–æ–ø–∏—è –∏–∑ src/assets/
        ‚îî‚îÄ‚îÄ images/                  ‚Üê –ö–æ–ø–∏—è –∏–∑ content/images/
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ (production)

```
toosmart.com/                          ‚Üê –ö–æ—Ä–µ–Ω—å –¥–æ–º–µ–Ω–∞
‚îÇ
‚îú‚îÄ‚îÄ free/                             ‚Üê –ó–∞–≥—Ä—É–∂–∞–µ—à—å dist/free/*
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ kitchen.html
‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ articles/
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ
‚îú‚îÄ‚îÄ premium/                          ‚Üê –ó–∞–≥—Ä—É–∂–∞–µ—à—å dist/premium/*
‚îÇ   ‚îú‚îÄ‚îÄ .htaccess
‚îÇ   ‚îú‚îÄ‚îÄ index.php
‚îÇ   ‚îú‚îÄ‚îÄ auth.php
‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ
‚îî‚îÄ‚îÄ private/                          ‚Üê –í–ù–ï public_html!
    ‚îî‚îÄ‚îÄ users.json                   ‚Üê –ë–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### .gitignore

```
node_modules/
dist/
.DS_Store
*.log
```

**–í–∞–∂–Ω–æ:** `dist/` –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git, —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º.

---

## üÜì FREE VS PREMIUM –í–ï–†–°–ò–ò

### –†–∞–∑–ª–∏—á–∏—è –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ

| –≠–ª–µ–º–µ–Ω—Ç | Free –≤–µ—Ä—Å–∏—è | Premium –≤–µ—Ä—Å–∏—è |
|---------|-------------|----------------|
| **–†–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞** | –¢–æ–ª—å–∫–æ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ –∞–±–∑–∞—Ü—ã | –ü–æ–ª–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã |
| **–°—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"** | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω—ã | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç—É–ø–Ω—ã (—Ç–µ –∂–µ —Ñ–∞–π–ª—ã) |
| **–ù–∞–≤–∏–≥–∞—Ü–∏—è (–º–µ–Ω—é)** | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ –≤–∏–¥–Ω–∞ | ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—É—Ä—Å–∞ –≤–∏–¥–Ω–∞ |
| **Flyout –º–µ–Ω—é** | ‚úÖ –ü–æ–¥—Ä–∞–∑–¥–µ–ª—ã H2 –≤–∏–¥–Ω—ã | ‚úÖ –ü–æ–¥—Ä–∞–∑–¥–µ–ª—ã H2 –≤–∏–¥–Ω—ã |
| **Dots-rail** | ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞–º | ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–∞–º |
| **–ö–Ω–æ–ø–∫–∞ –≤–Ω–∏–∑—É —Ä–∞–∑–¥–µ–ª–∞** | üîí "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é" | ‚û°Ô∏è "–î–∞–ª–µ–µ" (–∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–∞–∑–¥–µ–ª—É) |
| **–ö–Ω–æ–ø–∫–∞ –≤ —Å—Ç–∞—Ç—å—è—Ö** | "–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–º—É –∫—É—Ä—Å—É" | "–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–º—É –∫—É—Ä—Å—É" |

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

#### Free –≤–µ—Ä—Å–∏—è - –†–∞–∑–¥–µ–ª –∫—É—Ä—Å–∞:

```html
<!-- dist/free/kitchen.html -->

<section id="grease-removal" class="text-section">
    <h2>–£–¥–∞–ª–µ–Ω–∏–µ –∂–∏—Ä–∞: –ø–æ—á–µ–º—É –æ–±—ã—á–Ω–∞—è –≤–æ–¥–∞ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç</h2>

    <!-- –í–°–¢–£–ü–ò–¢–ï–õ–¨–ù–´–ô –ê–ë–ó–ê–¶ -->
    <p>–ñ–∏—Ä ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Å—Ç–æ–π–∫–∏—Ö –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π –Ω–∞ –∫—É—Ö–Ω–µ.
       –û–Ω –æ—Å–µ–¥–∞–µ—Ç –Ω–∞ –ø–ª–∏—Ç–µ, –≤—ã—Ç—è–∂–∫–µ, —Å—Ç–µ–Ω–∞—Ö...</p>

    <!-- –ë–õ–Æ–† –≠–§–§–ï–ö–¢ + –û–í–ï–†–õ–ï–ô -->
    <div class="premium-teaser">
        <div class="blurred-content">
            <p>–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∂–∏—Ä–∞ –Ω—É–∂–Ω—ã...</p>
            <p>–ó–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å —ç–º—É–ª—å–≥–∏—Ä–æ–≤–∞–Ω–∏—è...</p>
        </div>
        <div class="unlock-overlay">
            <button class="btn-unlock" onclick="openPaymentModal()">
                üîí –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é
            </button>
        </div>
    </div>
</section>

<!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –û–ü–õ–ê–¢–´ -->
<div class="modal" id="payment-modal" hidden>
    <h2>–ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É</h2>
    <ul>
        <li>‚úÖ 10 –ø–æ–ª–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –∫—É—Ä—Å–∞</li>
        <li>‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã –∏ —Ç–∞–±–ª–∏—Ü—ã</li>
        <li>‚úÖ –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø</li>
    </ul>
    <p class="price"><strong>990 ‚ÇΩ</strong></p>
    <form action="https://auth.robokassa.ru/Merchant/Index.aspx">
        <input type="email" name="Shp_email" required>
        <button type="submit">–û–ø–ª–∞—Ç–∏—Ç—å 990 ‚ÇΩ</button>
    </form>
</div>
```

#### Premium –≤–µ—Ä—Å–∏—è - –†–∞–∑–¥–µ–ª –∫—É—Ä—Å–∞:

```html
<!-- dist/premium/kitchen.html -->

<?php
session_start();
if (!isset($_SESSION['premium_user'])) {
    header('Location: index.php');
    exit;
}
?>

<section id="grease-removal" class="text-section">
    <h2>–£–¥–∞–ª–µ–Ω–∏–µ –∂–∏—Ä–∞: –ø–æ—á–µ–º—É –æ–±—ã—á–Ω–∞—è –≤–æ–¥–∞ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç</h2>

    <!-- –ü–û–õ–ù–´–ô –ö–û–ù–¢–ï–ù–¢ –ë–ï–ó –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ô -->
    <p>–ñ–∏—Ä ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Å—Ç–æ–π–∫–∏—Ö –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–π –Ω–∞ –∫—É—Ö–Ω–µ...</p>
    <p>–í—Å—ë –¥–µ–ª–æ –≤ –º–æ–ª–µ–∫—É–ª—è—Ä–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∂–∏—Ä–æ–≤...</p>
    <p>–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∂–∏—Ä–∞ –Ω—É–∂–Ω—ã...</p>
    <!-- ... –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ –∫–æ–Ω—Ü–∞ ... -->
</section>

<!-- –ö–ù–û–ü–ö–ê –î–ê–õ–ï–ï -->
<button class="btn-next" data-next-page="bathroom.html">
    –î–∞–ª–µ–µ ‚Üí
</button>
```

#### Free –≤–µ—Ä—Å–∏—è - –°—Ç–∞—Ç—å—è "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏":

```html
<!-- dist/free/articles/eco-myths.html -->

<article class="text-box">
    <h1>–ü–µ—Ä–µ–ø–ª–∞—Ç–∞ –∑–∞ ¬´—ç–∫–æ¬ª-—Å—Ä–µ–¥—Å—Ç–≤–∞</h1>

    <!-- –ü–û–õ–ù–ê–Ø –°–¢–ê–¢–¨–Ø (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π) -->
    <p>–†–∞–∑–±–∏—Ä–∞–µ–º —Å–æ—Å—Ç–∞–≤ —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤...</p>
    <!-- ... –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç ... -->

    <!-- –ö–ù–û–ü–ö–ê –ü–ï–†–ï–•–û–î–ê –ö –ö–£–†–°–£ -->
    <a href="/free/index.html" class="btn-course">
        –ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–º—É –∫—É—Ä—Å—É ‚Üí
    </a>
</article>
```

### SEO —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

**–ò–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è Google:**
- ‚úÖ `/free/articles/` - —Å—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
- ‚úÖ –ú–æ–≥—É—Ç –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫

**–ù–ï –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è:**
- ‚ùå `/free/*.html` - —Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å meta noindex)
- ‚ùå `/premium/*` - –≤—Å—è –ø–∞–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∞ —á–µ—Ä–µ–∑ robots.txt + noindex

---

## ‚öôÔ∏è –ü–†–û–¶–ï–°–° –°–ë–û–†–ö–ò

### content/config.json

```json
{
  "course": {
    "title": "Clean - –¢–µ–æ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —É–±–æ—Ä–∫–∏",
    "sections": [
      {
        "id": "intro",
        "title": "–í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ö–∏–º–∏—é —É–±–æ—Ä–∫–∏",
        "markdown": "01-intro.md",
        "next": "kitchen"
      },
      {
        "id": "kitchen",
        "title": "–•–∏–º–∏—è –∫—É—Ö–æ–Ω–Ω–æ–π —É–±–æ—Ä–∫–∏",
        "markdown": "02-kitchen.md",
        "next": "bathroom"
      },
      {
        "id": "bathroom",
        "title": "–í–∞–Ω–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞",
        "markdown": "03-bathroom.md",
        "next": "textiles"
      }
    ]
  },
  "articles": {
    "title": "–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º",
    "list": [
      {
        "id": "eco-myths",
        "title": "–ü–µ—Ä–µ–ø–ª–∞—Ç–∞ –∑–∞ ¬´—ç–∫–æ¬ª-—Å—Ä–µ–¥—Å—Ç–≤–∞",
        "markdown": "eco-myths.md"
      },
      {
        "id": "dangerous-mix",
        "title": "–û–ø–∞—Å–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –±—ã—Ç–æ–≤–æ–π —Ö–∏–º–∏–∏",
        "markdown": "dangerous-mix.md"
      }
    ]
  }
}
```

### scripts/build.js - –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

```javascript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥

async function buildAll() {
  console.log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É...');

  await buildFreeVersion();
  await buildPremiumVersion();

  console.log('‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
}

async function buildFreeVersion() {
  const output = './dist/free';

  // 1. –û—á–∏—Å—Ç–∏—Ç—å dist/free/
  cleanDir(output);

  // 2. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏–∑ src/
  copy('src/script.js', output + '/script.js');
  copy('src/styles.css', output + '/styles.css');
  copy('src/mode-utils.js', output + '/mode-utils.js');
  copyDir('src/assets', output + '/assets');
  copyDir('content/images', output + '/images');

  // 3. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ (–í–°–¢–£–ü–õ–ï–ù–ò–Ø)
  for (const section of config.course.sections) {
    const mdContent = readFile(`content/course/${section.markdown}`);
    const firstParagraph = extractFirstParagraph(mdContent); // —Ç–æ–ª—å–∫–æ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ
    const fullContent = markdownToHTML(mdContent); // –ø–æ–ª–Ω—ã–π –¥–ª—è –±–ª—é—Ä–∞

    const html = generatePage({
      template: 'src/template.html',
      content: firstParagraph,
      blurredContent: fullContent, // –ø–æ–¥ –±–ª—é—Ä–æ–º
      sections: extractH2Headers(mdContent), // –¥–ª—è flyout –º–µ–Ω—é
      footer: {
        type: 'paywall',
        button: {
          text: 'üîí –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é',
          action: 'openPaymentModal()'
        }
      },
      modal: generatePaymentModal() // –º–æ–¥–∞–ª–∫–∞ –æ–ø–ª–∞—Ç—ã
    });

    writeFile(`${output}/${section.id}.html`, html);
  }

  // 4. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" (–ü–û–õ–ù–´–ï)
  for (const article of config.articles.list) {
    const mdContent = readFile(`content/articles/${article.markdown}`);
    const fullContent = markdownToHTML(mdContent);

    const html = generatePage({
      template: 'src/template.html',
      content: fullContent,
      footer: {
        type: 'link',
        button: {
          text: '–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–ª–Ω–æ–º—É –∫—É—Ä—Å—É ‚Üí',
          href: '/free/index.html'
        }
      }
    });

    writeFile(`${output}/articles/${article.id}.html`, html);
  }

  console.log('‚úÖ Free –≤–µ—Ä—Å–∏—è —Å–æ–±—Ä–∞–Ω–∞');
}

async function buildPremiumVersion() {
  const output = './dist/premium';

  // 1. –û—á–∏—Å—Ç–∏—Ç—å dist/premium/
  cleanDir(output);

  // 2. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã
  copy('src/script.js', output + '/script.js');
  copy('src/styles.css', output + '/styles.css');
  copy('src/mode-utils.js', output + '/mode-utils.js');
  copyDir('src/assets', output + '/assets');
  copyDir('content/images', output + '/images');

  // 3. –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å PHP —Å–∫—Ä–∏–ø—Ç—ã
  copy('server/index.php', output + '/index.php');
  copy('server/auth.php', output + '/auth.php');
  copy('server/check-auth.php', output + '/check-auth.php');
  copy('server/logout.php', output + '/logout.php');
  copy('server/.htaccess', output + '/.htaccess');

  // 4. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞ (–ü–û–õ–ù–´–ï)
  for (const section of config.course.sections) {
    const mdContent = readFile(`content/course/${section.markdown}`);
    const fullContent = markdownToHTML(mdContent);

    const html = generatePage({
      template: 'src/template.html',
      content: fullContent,
      sections: extractH2Headers(mdContent),
      footer: {
        type: 'navigation',
        button: {
          text: '–î–∞–ª–µ–µ ‚Üí',
          href: `${section.next}.html`
        }
      }
    });

    // –û–±–µ—Ä–Ω—É—Ç—å –≤ PHP –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–∏
    const protectedHTML = wrapWithPHPAuth(html);

    writeFile(`${output}/${section.id}.html`, protectedHTML);
  }

  console.log('‚úÖ Premium –≤–µ—Ä—Å–∏—è —Å–æ–±—Ä–∞–Ω–∞');
}

function extractFirstParagraph(markdown) {
  // –í–∑—è—Ç—å –≤—Å—ë –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ H2 –∏–ª–∏ H3
  const match = markdown.match(/^([\s\S]*?)(?=\n##\s|\n###\s|$)/);
  return match ? match[1].trim() : markdown;
}

function extractH2Headers(markdown) {
  const regex = /^##\s+(.+)$/gm;
  const headers = [];
  let match;

  while ((match = regex.exec(markdown)) !== null) {
    headers.push({
      id: slugify(match[1]),
      title: match[1]
    });
  }

  return headers;
}

function wrapWithPHPAuth(html) {
  return `<?php
session_start();
if (!isset($_SESSION['premium_user'])) {
    header('Location: index.php');
    exit;
}
?>
${html}`;
}
```

### –ö–æ–º–∞–Ω–¥—ã NPM

```json
{
  "scripts": {
    "dev": "live-server src --port=3000",
    "build": "node scripts/build.js",
    "build:free": "node scripts/build.js --target=free",
    "build:premium": "node scripts/build.js --target=premium",
    "preview:free": "live-server dist/free --port=3001",
    "preview:premium": "live-server dist/premium --port=3002",
    "clean": "rm -rf dist/*"
  }
}
```

---

## üîê PHP –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí index.php ‚Üí auth.php ‚Üí check-auth.php ‚Üí content.html
                ‚Üì              ‚Üì            ‚Üì
              –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞   –ü—Ä–æ–≤–µ—Ä–∫–∞    Middleware
              email+pass    –≤ users.json  —Å–µ—Å—Å–∏–∏
```

### server/.htaccess

```apache
# ========================================
# –ó–ê–©–ò–¢–ê –ü–†–ï–ú–ò–£–ú –í–ï–†–°–ò–ò
# ========================================

# –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–æ–∏—Å–∫–æ–≤–∏–∫–∞–º–∏
Header set X-Robots-Tag "noindex, nofollow, noarchive"
Header set X-Frame-Options "SAMEORIGIN"

# –í–∫–ª—é—á–∏—Ç—å PHP
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
</FilesMatch>

# –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ .html —Ñ–∞–π–ª–∞–º –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ check-auth.php
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.+)\.html$ check-auth.php?page=$1 [L,QSA]

# –ó–∞—â–∏—Ç–∏—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º
<FilesMatch "\.(html|js|css)$">
    Order Deny,Allow
    Deny from all
</FilesMatch>

# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ PHP –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
<FilesMatch "\.(php|png|jpg|jpeg|svg|gif|webp)$">
    Allow from all
</FilesMatch>
```

### server/index.php (—Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞)

```php
<?php
session_start();

// –ï—Å–ª–∏ —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç
if (isset($_SESSION['premium_user'])) {
    header('Location: home.html');
    exit;
}

$error = $_GET['error'] ?? '';
?>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ –≤ –∑–∞–∫—Ä—ã—Ç—É—é –≤–µ—Ä—Å–∏—é –∫—É—Ä—Å–∞</title>
    <link rel="stylesheet" href="../free/styles.css">
    <style>
        .auth-page {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #e8f4f8;
        }
        .auth-container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .auth-form input {
            width: 100%;
            padding: 12px;
            margin-bottom: 16px;
            border: 1px solid #d0d0d0;
            border-radius: 8px;
        }
        .auth-form button {
            width: 100%;
            padding: 14px;
            background: #0066cc;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
        .error { color: #d32f2f; margin-top: 12px; }
        .help-text { color: #666; font-size: 14px; margin-top: 20px; }
    </style>
</head>
<body class="auth-page">
    <div class="auth-container">
        <h1>–í—Ö–æ–¥ –≤ –∑–∞–∫—Ä—ã—Ç—É—é –≤–µ—Ä—Å–∏—é</h1>
        <p>–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à email –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</p>

        <form action="auth.php" method="POST" class="auth-form">
            <input type="email" name="email" placeholder="–í–∞—à email" required autofocus>
            <input type="password" name="password" placeholder="–ü–∞—Ä–æ–ª—å –∏–∑ –ø–∏—Å—å–º–∞" required>
            <button type="submit">–í–æ–π—Ç–∏ –≤ –∫—É—Ä—Å</button>
        </form>

        <?php if ($error === '1'): ?>
            <p class="error">‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å</p>
        <?php endif; ?>

        <p class="help-text">
            –ù–µ –ø–æ–ª—É—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø? <a href="mailto:support@toosmart.com">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º</a>
        </p>
    </div>
</body>
</html>
```

### server/auth.php (–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

```php
<?php
session_start();

$email = trim($_POST['email'] ?? '');
$password = $_POST['password'] ?? '';

// –ü—É—Ç—å –∫ –±–∞–∑–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–í–ù–ï public_html!)
$users_file = __DIR__ . '/../../private/users.json';

if (!file_exists($users_file)) {
    error_log('Users file not found: ' . $users_file);
    header('Location: index.php?error=1');
    exit;
}

$users = json_decode(file_get_contents($users_file), true);

if (!$users || !is_array($users)) {
    error_log('Invalid users.json format');
    header('Location: index.php?error=1');
    exit;
}

// –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
foreach ($users as $user) {
    if ($user['email'] === $email && password_verify($password, $user['password_hash'])) {
        // –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        $_SESSION['premium_user'] = $email;
        $_SESSION['login_time'] = time();

        // –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
        header('Location: home.html');
        exit;
    }
}

// –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
header('Location: index.php?error=1');
exit;
?>
```

### server/check-auth.php (middleware)

```php
<?php
session_start();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
if (!isset($_SESSION['premium_user'])) {
    header('Location: index.php');
    exit;
}

// –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
$page = $_GET['page'] ?? 'home';

// –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç path traversal)
if (preg_match('/[^a-z0-9_-]/i', $page)) {
    header('HTTP/1.0 400 Bad Request');
    exit('Invalid page name');
}

// –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É
$file = __DIR__ . "/{$page}.html";

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
if (!file_exists($file)) {
    header('HTTP/1.0 404 Not Found');
    exit('404 - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
}

// –û—Ç–¥–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
header('Content-Type: text/html; charset=UTF-8');
readfile($file);
?>
```

### server/logout.php

```php
<?php
session_start();
session_destroy();
header('Location: index.php');
exit;
?>
```

### –ë–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (private/users.json)

```json
[
  {
    "email": "user@example.com",
    "password_hash": "$2y$10$abcdefghijklmnopqrstuvwxyz1234567890",
    "created_at": "2025-11-15 12:30:45",
    "invoice_id": "12345"
  },
  {
    "email": "another@example.com",
    "password_hash": "$2y$10$zyxwvutsrqponmlkjihgfedcba0987654321",
    "created_at": "2025-11-16 08:15:22",
    "invoice_id": "12346"
  }
]
```

**–í–ê–ñ–ù–û:** –§–∞–π–ª `users.json` –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –í–ù–ï public_html (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ `/home/user/private/users.json`)

---

## üí≥ ROBOKASSA –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ free/kitchen.html
2. –ù–∞–∂–∏–º–∞–µ—Ç "üîí –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é"
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
4. –í–≤–æ–¥–∏—Ç email ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –Ω–∞ Robokassa
5. –û–ø–ª–∞—Ç–∞ 990‚ÇΩ
6. Robokassa ‚Üí robokassa-callback.php (Result URL)
7. –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å, –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ users.json, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email
8. Robokassa ‚Üí success.php (Success URL)
9. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "–°–ø–∞—Å–∏–±–æ! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email"
10. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∏—Å—å–º–æ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ premium/
11. –í–≤–æ–¥–∏—Ç email + –ø–∞—Ä–æ–ª—å ‚Üí –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É
```

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤ free –≤–µ—Ä—Å–∏–∏

```html
<!-- –í –∫–∞–∂–¥–æ–º dist/free/*.html -->

<div class="modal" id="payment-modal" hidden>
    <div class="modal-overlay" onclick="closePaymentModal()"></div>
    <div class="modal-content">
        <button class="modal-close" onclick="closePaymentModal()">√ó</button>

        <h2>–ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É</h2>

        <ul class="benefits">
            <li>‚úÖ 10 –ø–æ–ª–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏</li>
            <li>‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã –∏ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏</li>
            <li>‚úÖ –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º</li>
            <li>‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ</li>
        </ul>

        <p class="price">
            <span class="price-old">1990 ‚ÇΩ</span>
            <span class="price-current">990 ‚ÇΩ</span>
        </p>

        <form id="payment-form" action="https://auth.robokassa.ru/Merchant/Index.aspx" method="GET">
            <!-- Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <input type="email"
                   name="Shp_email"
                   placeholder="–í–∞—à email"
                   required
                   pattern="[^@]+@[^@]+\.[a-zA-Z]{2,}">

            <!-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Robokassa -->
            <input type="hidden" name="MerchantLogin" value="–í–ê–®_–õ–û–ì–ò–ù">
            <input type="hidden" name="OutSum" value="990">
            <input type="hidden" name="InvId" value="0">
            <input type="hidden" name="Description" value="–î–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É Clean">
            <input type="hidden" name="SignatureValue" value="–ü–û–î–ü–ò–°–¨">
            <input type="hidden" name="Culture" value="ru">
            <input type="hidden" name="Encoding" value="utf-8">

            <button type="submit" class="btn-pay">
                –û–ø–ª–∞—Ç–∏—Ç—å 990 ‚ÇΩ
            </button>
        </form>

        <p class="security-note">
            üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Robokassa
        </p>
    </div>
</div>

<script>
function openPaymentModal() {
    document.getElementById('payment-modal').removeAttribute('hidden');
    document.body.style.overflow = 'hidden';
}

function closePaymentModal() {
    document.getElementById('payment-modal').setAttribute('hidden', '');
    document.body.style.overflow = '';
}
</script>
```

### server/robokassa-callback.php (Result URL)

```php
<?php
/**
 * Robokassa Result URL - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
 * URL: https://toosmart.com/premium/robokassa-callback.php
 */

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç Robokassa
$out_sum = $_POST['OutSum'] ?? '';
$inv_id = $_POST['InvId'] ?? '';
$shp_email = $_POST['Shp_email'] ?? '';
$signature = $_POST['SignatureValue'] ?? '';

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
$merchant_password2 = '–í–ê–®_PASSWORD2'; // –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ Robokassa (Result URL password)

// 1. –ü–†–û–í–ï–†–ö–ê –ü–û–î–ü–ò–°–ò (–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!)
$expected_signature = strtoupper(md5("$out_sum:$inv_id:$merchant_password2:Shp_email=$shp_email"));

if (strtoupper($signature) !== $expected_signature) {
    error_log("Robokassa: Invalid signature. Expected: $expected_signature, Got: $signature");
    die('Bad signature');
}

// 2. –ì–ï–ù–ï–†–ê–¶–ò–Ø –ü–ê–†–û–õ–Ø
$password = generateRandomPassword(8); // –Ω–∞–ø—Ä–∏–º–µ—Ä: A7k3Xm9P
$password_hash = password_hash($password, PASSWORD_DEFAULT);

// 3. –î–û–ë–ê–í–õ–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –í –ë–ê–ó–£
$users_file = __DIR__ . '/../../private/users.json';
$users = file_exists($users_file) ? json_decode(file_get_contents($users_file), true) : [];

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ —É–∂–µ —Ç–∞–∫–æ–≥–æ email
$user_exists = false;
foreach ($users as $user) {
    if ($user['email'] === $shp_email) {
        $user_exists = true;
        error_log("Robokassa: User already exists: $shp_email");
        break;
    }
}

if (!$user_exists) {
    $users[] = [
        'email' => $shp_email,
        'password_hash' => $password_hash,
        'created_at' => date('Y-m-d H:i:s'),
        'invoice_id' => $inv_id,
        'amount' => $out_sum
    ];

    file_put_contents($users_file, json_encode($users, JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE));
}

// 4. –û–¢–ü–†–ê–í–ö–ê EMAIL –° –ü–ê–†–û–õ–ï–ú
$to = $shp_email;
$subject = '–í–∞—à –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É Clean - –¢–µ–æ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —É–±–æ—Ä–∫–∏';
$message = "
–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!

–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É –∫—É—Ä—Å–∞ ¬´Clean - –¢–µ–æ—Ä–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —É–±–æ—Ä–∫–∏¬ª.

–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∑–∞–∫—Ä—ã—Ç—É—é –≤–µ—Ä—Å–∏—é:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Email: $shp_email
–ü–∞—Ä–æ–ª—å: $password
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

–°—Å—ã–ª–∫–∞ –¥–ª—è –≤—Ö–æ–¥–∞: https://toosmart.com/premium/

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ –ø–∏—Å—å–º–æ - –ø–∞—Ä–æ–ª—å –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º,
–ö–æ–º–∞–Ω–¥–∞ TooSmart
";

$headers = "From: noreply@toosmart.com\r\n";
$headers .= "Content-Type: text/plain; charset=UTF-8\r\n";
$headers .= "X-Mailer: PHP/" . phpversion();

mail($to, $subject, $message, $headers);

// 5. –û–¢–í–ï–¢ ROBOKASSA (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
echo "OK$inv_id";

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
error_log("Robokassa: Payment successful. Email: $shp_email, InvId: $inv_id, Password: $password");

function generateRandomPassword($length = 8) {
    $chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    $password = '';
    for ($i = 0; $i < $length; $i++) {
        $password .= $chars[random_int(0, strlen($chars) - 1)];
    }
    return $password;
}
?>
```

### server/success.php (Success URL)

```php
<?php
/**
 * Robokassa Success URL - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
 * URL: https://toosmart.com/premium/success.php
 */

$email = $_GET['Shp_email'] ?? '';
?>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ</title>
    <link rel="stylesheet" href="../free/styles.css">
    <style>
        .success-page {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: #e8f4f8;
        }
        .success-container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            max-width: 500px;
            text-align: center;
        }
        .checkmark {
            font-size: 64px;
            color: #4caf50;
        }
    </style>
</head>
<body class="success-page">
    <div class="success-container">
        <div class="checkmark">‚úì</div>
        <h1>–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!</h1>
        <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É –∫—É—Ä—Å–∞ ¬´Clean¬ª.</p>
        <p><strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É:</strong><br><?= htmlspecialchars($email) ?></p>
        <p>–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –≤–∞–º –ø–∏—Å—å–º–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∑–∞–∫—Ä—ã—Ç—É—é –≤–µ—Ä—Å–∏—é –∫—É—Ä—Å–∞.</p>
        <hr>
        <p><a href="index.php" class="btn-primary">–í–æ–π—Ç–∏ –≤ –∑–∞–∫—Ä—ã—Ç—É—é –≤–µ—Ä—Å–∏—é</a></p>
    </div>
</body>
</html>
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Robokassa

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Robokassa —É–∫–∞–∂–∏—Ç–µ:

```
Result URL:   https://toosmart.com/premium/robokassa-callback.php
Success URL:  https://toosmart.com/premium/success.php
Fail URL:     https://toosmart.com/free/index.html
Method:       POST
```

---

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –ü–û–ò–°–ö–û–í–ò–ö–û–í

### robots.txt (–≤ –∫–æ—Ä–Ω–µ –¥–æ–º–µ–Ω–∞)

```
User-agent: *
Disallow: /premium/
Allow: /free/articles/

Sitemap: https://toosmart.com/sitemap.xml
```

### Meta tags –≤ premium –≤–µ—Ä—Å–∏–∏

```html
<!-- –í –∫–∞–∂–¥–æ–º dist/premium/*.html -->
<meta name="robots" content="noindex, nofollow, noarchive">
```

### Meta tags –≤ free –≤–µ—Ä—Å–∏–∏ (—Ä–∞–∑–¥–µ–ª—ã –∫—É—Ä—Å–∞)

```html
<!-- –í dist/free/*.html (–∫—Ä–æ–º–µ articles/) -->
<meta name="robots" content="noindex, nofollow">
```

### Meta tags –≤ —Å—Ç–∞—Ç—å—è—Ö "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"

```html
<!-- –í dist/free/articles/*.html -->
<meta name="robots" content="index, follow">
<meta name="description" content="–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤">
<meta property="og:title" content="–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏">
<meta property="og:description" content="–û–ø–∏—Å–∞–Ω–∏–µ">
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –≤ .htaccess

```apache
# –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–∫—Ä–∞–ø–µ—Ä–æ–≤
RewriteEngine On
RewriteCond %{HTTP_USER_AGENT} (HTTrack|wget|curl) [NC]
RewriteRule .* - [F,L]
```

---

## üöÄ –î–ï–ü–õ–û–ô –ù–ê –•–û–°–¢–ò–ù–ì

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É

‚úÖ PHP 7.4+
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ .htaccess (Apache/LiteSpeed)
‚úÖ –î–æ—Å—Ç—É–ø –∫ –ø–∞–ø–∫–µ –≤—ã—à–µ public_html (–¥–ª—è users.json)
‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ email —á–µ—Ä–µ–∑ mail()
‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

**–ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Ö–æ—Å—Ç–∏–Ω–≥–∏:**
- Beget
- Timeweb
- Reg.ru
- Hostland

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
/home/username/                  ‚Üê –î–æ–º–∞—à–Ω—è—è –ø–∞–ø–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ private/                     ‚Üê –í–ù–ï –≤–µ–±-–¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îî‚îÄ‚îÄ users.json              ‚Üê –ë–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ
‚îî‚îÄ‚îÄ public_html/                 ‚Üê –ö–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞
    ‚îú‚îÄ‚îÄ .htaccess               ‚Üê –†–µ–¥–∏—Ä–µ–∫—Ç—ã
    ‚îú‚îÄ‚îÄ robots.txt
    ‚îú‚îÄ‚îÄ sitemap.xml
    ‚îÇ
    ‚îú‚îÄ‚îÄ free/                   ‚Üê –ó–∞–≥—Ä—É–∑–∏—Ç—å dist/free/*
    ‚îÇ   ‚îú‚îÄ‚îÄ index.html
    ‚îÇ   ‚îú‚îÄ‚îÄ kitchen.html
    ‚îÇ   ‚îú‚îÄ‚îÄ articles/
    ‚îÇ   ‚îî‚îÄ‚îÄ assets/
    ‚îÇ
    ‚îî‚îÄ‚îÄ premium/                ‚Üê –ó–∞–≥—Ä—É–∑–∏—Ç—å dist/premium/*
        ‚îú‚îÄ‚îÄ .htaccess
        ‚îú‚îÄ‚îÄ index.php
        ‚îú‚îÄ‚îÄ auth.php
        ‚îî‚îÄ‚îÄ ...
```

### –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è

#### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞

```bash
# –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å—ë –æ–±–Ω–æ–≤–ª–µ–Ω–æ
git pull

# –°–æ–±–µ—Ä–∏ –æ–±–µ –≤–µ—Ä—Å–∏–∏
npm run build

# –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
npm run preview:free
npm run preview:premium
```

#### 2. –°–æ–∑–¥–∞–Ω–∏–µ users.json –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ß–µ—Ä–µ–∑ SSH –∏–ª–∏ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ö–æ—Å—Ç–∏–Ω–≥–∞:

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É private (–µ—Å–ª–∏ –Ω–µ—Ç)
mkdir -p /home/username/private

# –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π users.json
echo '[]' > /home/username/private/users.json

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞
chmod 644 /home/username/private/users.json
```

#### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ FTP (FileZilla)

```
–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
Host:     ftp.toosmart.com
Username: –≤–∞—à_–ª–æ–≥–∏–Ω
Password: –≤–∞—à_–ø–∞—Ä–æ–ª—å
Port:     21

–ó–∞–≥—Ä—É–∑–∏—Ç—å:
- dist/free/*       ‚Üí /public_html/free/
- dist/premium/*    ‚Üí /public_html/premium/
```

#### 4. –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ SSH/rsync (–±—ã—Å—Ç—Ä–µ–µ)

```bash
# –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
rsync -avz --delete \
  dist/free/ \
  user@toosmart.com:/home/username/public_html/free/

rsync -avz --delete \
  dist/premium/ \
  user@toosmart.com:/home/username/public_html/premium/
```

#### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –ß–µ—Ä–µ–∑ SSH
ssh user@toosmart.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la public_html/premium/

# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∏—Å–ø—Ä–∞–≤–∏—Ç—å
chmod 644 public_html/premium/*.php
chmod 644 public_html/premium/.htaccess
```

#### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Robokassa

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Robokassa:

1. Result URL: `https://toosmart.com/premium/robokassa-callback.php`
2. Success URL: `https://toosmart.com/premium/success.php`
3. Fail URL: `https://toosmart.com/free/index.html`
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Password#1 –∏ Password#2
5. –í—Å—Ç–∞–≤–∏—Ç—å Password#2 –≤ `robokassa-callback.php` –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å

#### 7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```
1. –û—Ç–∫—Ä—ã—Ç—å https://toosmart.com/free/
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
3. –ù–∞–∂–∞—Ç—å "–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –≤–µ—Ä—Å–∏—é" ‚Üí –º–æ–¥–∞–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
4. –û—Ç–∫—Ä—ã—Ç—å https://toosmart.com/premium/ ‚Üí —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞
5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–æ–π—Ç–∏ —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email ‚Üí –æ—à–∏–±–∫–∞
6. –°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –æ–ø–ª–∞—Ç—É ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å email
7. –í–æ–π—Ç–∏ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º ‚Üí –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É
```

#### 8. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ PHP –æ—à–∏–±–æ–∫
tail -f /home/username/logs/error.log

# –õ–æ–≥–∏ Robokassa (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω error_log)
tail -f /home/username/logs/robokassa.log
```

### robots.txt –≤ –∫–æ—Ä–Ω–µ

```
User-agent: *
Disallow: /premium/
Allow: /free/articles/

Sitemap: https://toosmart.com/sitemap.xml
```

### –ö–æ—Ä–Ω–µ–≤–æ–π .htaccess (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ free)

```apache
# –†–µ–¥–∏—Ä–µ–∫—Ç —Å –∫–æ—Ä–Ω—è –Ω–∞ free –≤–µ—Ä—Å–∏—é
RewriteEngine On
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^$ /free/ [R=301,L]
```

---

## üíº WORKFLOW –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç—ã

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –∫—É—Ä—Å–∞

```bash
# 1. –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
vim content/course/06-eco-cleaning.md

# 2. –û–±–Ω–æ–≤–∏—Ç—å config.json
vim content/config.json
# –î–æ–±–∞–≤–∏—Ç—å:
# {
#   "id": "eco-cleaning",
#   "title": "–≠–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã",
#   "markdown": "06-eco-cleaning.md",
#   "next": "safety-storage"
# }

# 3. –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
cp ~/images/eco-vinegar.jpg content/images/

# 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
npm run preview:free
npm run preview:premium

# 6. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
rsync -avz dist/free/ user@toosmart.com:/public_html/free/
rsync -avz dist/premium/ user@toosmart.com:/public_html/premium/
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ (CSS/JS)

```bash
# 1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
vim src/styles.css

# 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ live-—Ä–µ–∂–∏–º–µ
npm run dev
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000

# 3. –ö–æ–≥–¥–∞ –≥–æ—Ç–æ–≤–æ - —Å–æ–±—Ä–∞—Ç—å
npm run build

# 4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
rsync -avz dist/free/ user@toosmart.com:/public_html/free/
rsync -avz dist/premium/ user@toosmart.com:/public_html/premium/
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"

```bash
# 1. –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å—é
vim content/articles/new-article.md

# 2. –û–±–Ω–æ–≤–∏—Ç—å config.json
vim content/config.json
# –í —Å–µ–∫—Ü–∏–∏ "articles.list" –¥–æ–±–∞–≤–∏—Ç—å:
# {
#   "id": "new-article",
#   "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
#   "markdown": "new-article.md"
# }

# 3. –°–æ–±—Ä–∞—Ç—å
npm run build

# 4. –î–µ–ø–ª–æ–π
rsync -avz dist/free/articles/ user@toosmart.com:/public_html/free/articles/
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã

```bash
# 1. –ò–∑–º–µ–Ω–∏—Ç—å –≤ src/template.html
# –ù–∞–π—Ç–∏: <input type="hidden" name="OutSum" value="990">
# –ó–∞–º–µ–Ω–∏—Ç—å: <input type="hidden" name="OutSum" value="1290">

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
npm run build

# 3. –û–±–Ω–æ–≤–∏—Ç—å Robokassa –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

# 4. –î–µ–ø–ª–æ–π
rsync -avz dist/free/ user@toosmart.com:/public_html/free/
```

### Git workflow

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ–∏—á–∏
git checkout -b feature/new-section

# –†–∞–±–æ—Ç–∞...
git add content/course/07-new.md
git commit -m "Add new section: Advanced techniques"

# –ü—É—à
git push origin feature/new-section

# –ü–æ—Å–ª–µ —Ä–µ–≤—å—é - merge
git checkout main
git merge feature/new-section
git push origin main

# –î–µ–ø–ª–æ–π
npm run build
# ... –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
```

---

## ‚ùì FAQ –ò –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é?

```bash
# 1. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö–µ—à –ø–∞—Ä–æ–ª—è
php -r "echo password_hash('mypassword123', PASSWORD_DEFAULT);"
# –í—ã–≤–µ–¥–µ—Ç: $2y$10$abcdef...

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤ users.json
{
  "email": "newuser@example.com",
  "password_hash": "$2y$10$abcdef...",
  "created_at": "2025-11-15 12:00:00",
  "invoice_id": "manual",
  "amount": "0"
}
```

### Q: Robokassa –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ callback

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Result URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Robokassa
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `tail -f ~/logs/error.log`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å—å: —É–±–µ–¥–∏—Å—å —á—Ç–æ Password#2 —Å–æ–≤–ø–∞–¥–∞–µ—Ç
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Robokassa Test —Ä–µ–∂–∏–º

### Q: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –≤ premium

**–ß–µ–∫–ª–∏—Å—Ç:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `users.json` - –µ—Å—Ç—å –ª–∏ email?
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å password_hash - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ñ–æ—Ä–º–∞—Ç?
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ —Ñ–∞–π–ª–∞: `chmod 644 users.json`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å –≤ auth.php: `__DIR__ . '/../../private/users.json'`
5. –õ–æ–≥–∏ PHP: `tail -f error.log`

### Q: CSS/JS –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –ò–õ–ò –¥–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ URL
<link rel="stylesheet" href="styles.css?v=2">
<script src="script.js?v=2"></script>

# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ build.js:
const version = Date.now();
html.replace('styles.css', `styles.css?v=${version}`);
```

### Q: –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
rm -rf dist/
npm run clean
npm run build

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh user@toosmart.com
rm -rf public_html/free/*
rm -rf public_html/premium/*
echo '[]' > /home/username/private/users.json

# –ó–∞–Ω–æ–≤–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å
rsync -avz dist/free/ user@server:/public_html/free/
rsync -avz dist/premium/ user@server:/public_html/premium/
```

### Q: Email —Å –ø–∞—Ä–æ–ª–µ–º –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# 1. –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ email –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ
php -r "mail('your@email.com', 'Test', 'Test message');"

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Robokassa
tail -f robokassa.log

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∞–º-–ø–∞–ø–∫—É

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP (–µ—Å–ª–∏ mail() –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PHPMailer –≤–º–µ—Å—Ç–æ mail()
```

### Q: –ü–æ–∏—Å–∫–æ–≤–∏–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç premium –∫–æ–Ω—Ç–µ–Ω—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å robots.txt
curl https://toosmart.com/robots.txt

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å meta tags
curl https://toosmart.com/premium/kitchen.html | grep robots

# 3. –ó–∞–ø—Ä–æ—Å–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ Google
# Google Search Console ‚Üí –£–¥–∞–ª–µ–Ω–∏–µ ‚Üí –í—Ä–µ–º–µ–Ω–Ω–æ —É–¥–∞–ª–∏—Ç—å URL

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .htaccess
Header set X-Robots-Tag "noindex, nofollow"
```

### Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ä–æ–∫ —Å–µ—Å—Å–∏–∏?

```php
// –í –Ω–∞—á–∞–ª–µ auth.php
session_start();
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏ (30 –¥–Ω–µ–π)
ini_set('session.gc_maxlifetime', 2592000);
session_set_cookie_params(2592000);
```

---

## üìä –ú–ï–¢–†–ò–ö–ò –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**Yandex.Metrika:**
```html
<!-- –í src/template.html -->
<!-- –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫–∞ -->
<script type="text/javascript">
   (function(m,e,t,r,i,k,a){...})
   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

   ym(XXXXXXXX, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
   });
</script>
```

**–°–æ–±—ã—Ç–∏—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:**

```javascript
// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –æ–ø–ª–∞—Ç—ã
ym(XXXXXXXX, 'reachGoal', 'payment_modal_open');

// –ö–ª–∏–∫ "–û–ø–ª–∞—Ç–∏—Ç—å"
ym(XXXXXXXX, 'reachGoal', 'payment_click');

// –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
ym(XXXXXXXX, 'reachGoal', 'payment_success');

// –í—Ö–æ–¥ –≤ premium
ym(XXXXXXXX, 'reachGoal', 'premium_login');
```

---

## üéØ –ò–¢–û–ì–ò

### –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å

‚úÖ –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (free + premium)
‚úÖ –°—Ç–∞—Ç–∏—á–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ markdown
‚úÖ –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π (FTP/rsync)
‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è –∑–∞—â–∏—Ç–∞ premium –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Robokassa
‚úÖ SEO –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ö–æ—Å—Ç–∏–Ω–≥—É

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–µ—à–µ–Ω–∏—è

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –ù–µ –Ω—É–∂–µ–Ω Node.js –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —Ç–æ–ª—å–∫–æ PHP
- **–°–∫–æ—Ä–æ—Å—Ç—å:** –°—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Ç–¥–∞—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** PHP —Å–µ—Å—Å–∏–∏ + .htaccess + —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã
- **SEO:** –°—Ç–∞—Ç—å–∏ "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏" –ø—Ä–∏–Ω–æ—Å—è—Ç —Ç—Ä–∞—Ñ–∏–∫
- **–î–µ—à–µ–≤–∏–∑–Ω–∞:** –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º –ø—Ä–æ—Å—Ç–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
2. ‚úÖ –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å build.js
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å PHP —Å–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. ‚è≥ –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
5. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Robokassa —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
6. ‚è≥ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
7. ‚è≥ –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–ª–∞—Ç—ã
8. ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—É

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ ARCHITECTURE.md v1.0**
